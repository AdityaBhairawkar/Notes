## 🔧 What is `mvn clean`?

`mvn clean` is a **Maven command** that **deletes the `target/` directory** of a project.

The `target/` directory is where Maven **stores all compiled code, build results, temporary files**, and generated artifacts (like `.class`, `.jar`, `.war` files).

> 💡 Think of `mvn clean` as a **reset button** for your project build.

---

## 🧼 Why is `mvn clean` important?

1. **Removes old build files** – to avoid conflicts or confusion between old and new builds.
    
2. **Ensures fresh builds** – builds the app from scratch, reducing bugs caused by leftover files.
    
3. **Prevents environment-specific errors** – sometimes builds work on one system and fail on another due to cached or generated files.
    
4. **Useful in CI/CD pipelines** – for clean, repeatable builds on Jenkins, GitLab CI, etc.
    

---

## 📦 What does the `target/` directory contain?

Examples of files `mvn clean` deletes:

- Compiled `.class` files
    
- `.jar`, `.war` files
    
- Log files
    
- Temporary files generated by plugins
    

---

## ✅ Basic Usage

```bash
mvn clean
```

This:

- Navigates your Maven project
    
- Deletes the `target/` directory
    

---

## 🧪 Example 1: Clean only

```bash
mvn clean
```

- Deletes `target/`
    
- Doesn’t compile or build anything
    
- Use this before `mvn install` or `mvn package` for a fresh start
    

---

## 🧪 Example 2: Clean and then compile

```bash
mvn clean compile
```

- First deletes `target/`
    
- Then compiles your Java code into `.class` files in a fresh `target/`
    

---

## 🧪 Example 3: Clean and package the application

```bash
mvn clean package
```

- Deletes `target/`
    
- Compiles and packages your code into a `.jar` or `.war` file
    

---

## 🧪 Example 4: Clean and install (used in pipelines)

```bash
mvn clean install
```

- Deletes `target/`
    
- Compiles
    
- Runs tests
    
- Packages
    
- Installs the `.jar`/`.war` to your local Maven repository (`~/.m2`)
    

Used in:

- Jenkins Pipelines
    
- CI/CD automation
    
- Local testing before pushing
    

---

## 🧪 Example 5: Clean with a specific profile

```bash
mvn clean install -Pdev
```

- Cleans and installs the project using a specific Maven **profile** named `dev`.
    

---

## 🧪 Example 6: Clean with skipping tests

```bash
mvn clean install -DskipTests
```

- Cleans the project
    
- Builds and installs it
    
- **Skips running tests**, useful when you just want a quick build
    

---

## 🔄 Common DevOps Use Cases

|Use Case|Command|
|---|---|
|Clean build before packaging|`mvn clean package`|
|Clean install in CI/CD|`mvn clean install`|
|Clean and skip test build|`mvn clean install -DskipTests`|
|Clean with custom settings file|`mvn clean -s custom-settings.xml`|

---

## 🧠 Tips for DevOps Engineers

- Use `mvn clean` before building in CI/CD pipelines for **idempotent builds**.
    
- Automate with Jenkins, GitHub Actions, GitLab CI using:
    
    ```yaml
    script:
      - mvn clean install
    ```
    
- In Docker builds:
    
    ```dockerfile
    RUN mvn clean package
    ```
    
- Combine with test coverage tools (e.g. JaCoCo) after clean builds.
    

---

## 🔁 What happens if you skip `mvn clean`?

You might face:

- Compilation errors
    
- Old `.class` files being used
    
- Confusing bugs
    
- Failed builds on CI/CD even though it worked locally
    

---

Would you like a cheat sheet image or a PDF version of this?